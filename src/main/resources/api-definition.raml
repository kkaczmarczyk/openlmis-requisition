#%RAML 0.8
---
title: OpenLMIS Requisition API
version: "1.0.0"
baseUri: "${baseUrl}/api"

documentation:
    - title: Getting Started
      content: Welcome to the OpenLMIS requisition-service documentation.

schemas:
  - comment: |
      {
          "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Comment",
          "description": "A single comment",
          "properties": {
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": false, "title": "requisition" },
              "author": { "type": "object", "$ref": "#/schemas/user", "required": false, "title": "author" },
              "commentText": { "type": "string", "required": true, "title": "commentText" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" }
          }
      }

  - facility: |
      {
          "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Facility",
          "description": "A single facility",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "geographicZone": { "type": "object", "$ref": "#/schemas/geographicZone", "required": true },
              "type": { "type": "object", "$ref": "#/schemas/facilityType", "required": true },
              "operator": { "type": "object", "$ref": "#/schemas/facilityOperator", "required": false },
              "active": { "type": "boolean", "required": true, "title": "active" },
              "goLiveDate": { "type": "string", "required": false, "title": "goLiveDate" },
              "goDownDate": { "type": "string", "required": false, "title": "goDownDate" },
              "comment": { "type": "string", "required": false, "title": "comment" },
              "enabled": { "type": "boolean", "required": true, "title": "enabled" }
          }
      }

  - facilityOperator: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "FacilityOperator",
          "description": "A single facilityOperator",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "displayOrder": { "type": "integer", "required": false, "title": "displayOrder" }
          }
      }

  - facilityType: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "FacilityType",
          "description": "A single facilityType",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "displayOrder": { "type": "integer", "required": false, "title": "displayOrder" },
              "active": { "type": "boolean", "required": false, "title": "active" }
          }
      }

  - facilityTypeApprovedProduct: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "FacilityTypeApprovedProduct",
          "description": "A single facilityTypeApprovedProduct",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "facilityType": { "type": "object", "$ref": "#/schemas/facilityType", "required": true, "title": "facilityType" },
              "programProduct": { "type": "object", "$ref": "#/schemas/programProduct", "required": true, "title": "programProduct" },
              "maxMonthsOfStock": { "type": "number", "required": true, "title": "maxMonthsOfStock" },
              "minMonthsOfStock": { "type": "number", "required": false, "title": "minMonthsOfStock" },
              "emergencyOrderPoint": { "type": "number", "required": false, "title": "emergencyOrderPoint" }
          }
      }

  - geographicLevel: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "GeographicLevel",
          "description": "A single geographicLevel",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": true, "title": "name" },
              "levelNumber": { "type": "integer", "required": true, "title": "levelNumber" }
          }
      }

  - geographicZone: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "GeographicZone",
          "description": "A single geographicZone",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "level": { "type": "object", "$ref": "#/schemas/geographicLevel", "required": true },
              "catchmentPopulation": { "type": "integer", "required": false, "title": "catchmentPopulation" },
              "latitude": { "type": "number", "required": false, "title": "latitude" },
              "longitude": { "type": "number", "required": false, "title": "longitude" }
          }
      }

  - order: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Order",
          "description": "A single order",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": false, "title": "requisitionCode" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" },
              "createdBy": { "type": "object", "$ref": "#/schemas/user", "required": true, "title": "createdBy" },
              "program": { "type": "object", "$ref": "#/schemas/program", "required": true, "title":"program" },
              "requestingFacility": { "type": "object", "$ref": "#/schemas/facility", "required": true, "title": "requestingFacility" },
              "receivingFacilityId": { "type": "object", "$ref": "#/schemas/facility", "required": true, "title": "receivingFacilityId" },
              "supplyingFacilityId": { "type": "object", "$ref": "#/schemas/facility", "required": true, "title": "supplyingFacilityId" },
              "orderCode": { "type": "string", "required": true, "title": "orderCode" },
              "status": { "type": "object", "$ref": "#/schemas/orderStatus", "required": true, "title": "status" },
              "quotedCost": { "type": "integer", "required": true, "title": "quotedCost" },
              "orderLines": { "type": "array", "required": false, "title": "orderLines", "items": { "type": "object", "$ref": "#/schemas/orderLine" }, "uniqueItems": false }
          }
      }

  - orderLine: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "OrderLine",
          "description": "A single orderLine",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "productUUID": { "type": "string", "required": true, "title": "productUUID" },
              "productType": { "type": "string", "required": true, "title": "productType" },
              "orderedQuantity": { "type": "integer", "required": true, "title": "orderedQuantity" },
              "order": { "type": "object", "$ref": "#/schemas/order", "required": false, "title": "order" },
              "filledQuantity": { "type": "integer", "required": true, "title": "filledQuantity" }
          }
      }

  - period: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Period",
          "description": "A single period",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "processingSchedule": { "type": "object", "$ref": "#/schemas/schedule", "required": true, "title": "processingSchedule" },
              "name": { "type": "string", "required": true, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "startDate": { "type": "string", "required": true, "title": "startDate" },
              "endDate": { "type": "string", "required": true, "title": "endDate" }
          }
      }

  - globalProduct: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Global Product",
          "description": "A single global product",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "primaryName": { "type": "string", "required": true, "title": "primaryName" },
              "dispensingUnit": { "type": "string", "required": true, "title": "dispensingUnit" },
              "dosesPerDispensingUnit": { "type": "integer", "required": true, "title": "dosesPerDispensingUnit" },
              "defaultPackSize": { "type": "integer", "required": true, "title": "defaultPackSize" },
              "packRoundingThreshold": { "type": "integer", "required": true, "title": "packRoundingThreshold" },
              "roundToZero": { "type": "boolean", "required": true, "title": "roundToZero" },
              "active": { "type": "boolean", "required": true, "title": "active" },
              "fullSupply": { "type": "boolean", "required": true, "title": "fullSupply" },
              "tracer": { "type": "boolean", "required": true, "title": "tracer" }
          }
      }

  - tradeItem: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
              "title": "Trade Item",
              "description": "A single trade item",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "primaryName": { "type": "string", "required": true, "title": "primaryName" },
              "dispensingUnit": { "type": "string", "required": true, "title": "dispensingUnit" },
              "dosesPerDispensingUnit": { "type": "integer", "required": true, "title": "dosesPerDispensingUnit" },
                  "packSize": { "type": "integer", "required": true, "title": "defaultPackSize" },
              "packRoundingThreshold": { "type": "integer", "required": true, "title": "packRoundingThreshold" },
              "roundToZero": { "type": "boolean", "required": true, "title": "roundToZero" },
              "active": { "type": "boolean", "required": true, "title": "active" },
              "fullSupply": { "type": "boolean", "required": true, "title": "fullSupply" },
              "tracer": { "type": "boolean", "required": true, "title": "tracer" }
          }
      }

  - productCategory: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProductCategory",
          "description": "A single productCategory",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": true, "title": "name" },
              "displayOrder": { "type": "integer", "required": true, "title": "displayOrder" }
          }
      }

  - program: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Program",
          "description": "A single program",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "active": { "type": "boolean", "required": false, "title": "active" },
              "skippable": { "type": "boolean", "required": true, "title": "skippable" },
              "showNonFullSupplyTab": { "type": "boolean", "required": false, "title": "showNonFullSupplyTab" }
          }
      }

  - programProduct: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProgramProduct",
          "description": "A single programProduct",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "program": { "type": "object", "$ref": "#/schemas/program", "required": true, "title": "program" },
              "globalProductUUID": { "type": "string", "required": false, "title": "globalProductUUID" },
              "tradeItemUUID": { "type": "string", "required": false, "title": "tradeItemUUID" },
              "dosesPerMonth": { "type": "integer", "required": true, "title": "dosesPerMonth" },
              "active": { "type": "boolean", "required": true, "title": "active" },
              "productCategory": { "type": "object", "$ref": "#/schemas/productCategory", "required": true, "title": "productCategory" },
              "fullSupply": { "type": "boolean", "required": true, "title": "fullSupply" },
              "displayOrder": { "type": "integer", "required": false, "title": "displayOrder" },
              "maxMonthsStock": { "type": "integer", "required": false, "title": "maxMonthsStock" },
              "pricePerPack": { "type": "string", "required": false, "title": "pricePerPack" }
          }
      }

  - requisition: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Requisition",
          "description": "A single requisition",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "createdDate": { "type": "string", "required": false, "title": "createdDate" },
              "facility": { "type": "object", "$ref": "#/schemas/facility", "required": true, "title": "facility" },
              "program": { "type": "object", "$ref": "#/schemas/program", "required": true, "title": "program" },
              "processingPeriod": { "type": "object", "$ref": "#/schemas/period", "required": true, "title": "processingPeriod" },
              "status": { "type": "string", "required": true, "title": "status" },
              "creator": { "type": "object", "$ref": "#/schemas/user", "required": false, "title": "creator" },
              "requisitionLines": { "type": "array", "required": false, "title": "requisitionLines", "items": { "type": "object", "$ref":"#/schemas/requisitionLine" }, "uniqueItems": false }
          }
      }

  - requisitionLine: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionLine",
          "description": "A single requisitionLine",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "requisition": { "type": "object", "$ref": "#/schemas/requisition", "required": true, "title": "requisition" },
              "productUUID": { "type": "string", "required": true, "title": "productUUID" },
              "productType": { "type": "string", "required": true, "title": "productType" },
              "quantityRequested": { "type": "integer", "required": false, "title": "quantityRequested" },
              "stockInHand": { "type": "integer", "required": false, "title": "stockInHand" },
              "beginningBalance": { "type": "integer", "required": false, "title": "beginningBalance" }
          }
      }

  - requisitionTemplate: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionTemplate",
          "description": "A single requisitionTemplate",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "program": { "type": "object", "$ref": "#/schemas/program", "required": true, "title": "program" },
              "columnsMap": { "type": "array", "required": false, "title": "columnsMap", "items": { "type": "string", "title": "columnsMap" }, "uniqueItems": false }
          }
      }

  - requisitionTemplateColumn: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionTemplateColumn",
          "description": "A single requisitionTemplateColumn",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "name": { "type": "string", "required": false, "title": "name" },
              "label": { "type": "string", "required": false, "title": "label" },
              "displayOrder": { "type": "integer", "required": false, "title": "displayOrder" },
              "isDisplayed": { "type": "boolean", "required": false, "title": "isDisplayed" },
              "isDisplayRequired": { "type": "boolean", "required": false, "title": "isDisplayRequired" },
              "canBeChangedByUser": { "type": "boolean", "required": false, "title": "canByChangedByUser" },
              "canChangeOrder": { "type": "boolean", "required": false, "title": "canChangeOrder" },
              "source": { "type": "string", "required": false, "title": "source" }
          }
      }

  - right: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Right",
          "description": "A single right",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "name": { "type": "string", "required": true, "title": "name" },
              "rightType": { "type": "string", "required": true, "title": "rightType" },
              "description": { "type": "string", "required": false, "title": "description" }
          }
      }

  - role: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Role",
          "description": "A single role",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "name": { "type": "string", "required": true, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "rights": { "type": "array", "required": false, "title": "rights", "items": { "type": "object", "$ref": "#/schemas/right" }, "uniqueItems": false }
          }
      }

  - schedule: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "Schedule",
          "description": "A single schedule",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "description": { "type": "string", "required": false, "title": "description" },
              "modifiedDate": { "type": "string", "required": false, "title": "modifiedDate" },
              "name": { "type": "string", "required": true, "title": "name" }
          }
      }

  - user: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "User",
          "description": "A single user",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "username": { "type": "string", "required": true, "title": "username" },
              "password": { "type": "string", "required": true, "title": "password" },
              "firstName": { "type": "string", "required": true, "title": "firstName" },
              "lastName": { "type": "string", "required": true, "title": "lastName" },
              "homeFacility": { "type": "object", "$ref": "#/schemas/facility", "required": false, "title": "homeFacility" },
              "verified": { "type": "boolean", "required": false, "title": "verified" },
              "active": { "type": "boolean", "required": false, "title": "active" },
              "roles": { "type": "array", "required": false, "title": "roles", "items": { "type": "object", "$ref": "#/schemas/role" }, "uniqueItems": false}
          }
      }

  - supervisoryNode: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "SupervisoryNode",
          "description": "A single supervisoryNode",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "facility": { "type": "object", "$ref": "#/schemas/facility", "required": true },
              "parentNode": { "type": "object", "$ref": "#/schemas/supervisoryNode", "required": false },
              "childNodes": { "type": "array", "required": false, "title": "childNodes", "items": { "type": "object", "$ref": "#/schemas/supervisoryNode" }, "uniqueItems": false}
          }
      }

  - supplyLine: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "SupplyLine",
          "description": "A single supplyLine",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "supervisoryNode": { "type": "object", "$ref": "#/schemas/supervisoryNode", "required": true },
              "description": { "type": "string", "required": false, "title": "description" },
              "program": { "type": "object", "$ref": "#/schemas/program", "required": true },
              "supplyingFacility": { "type": "object", "$ref": "#/schemas/facility", "required": true }
          }
      }

  - requisitionGroup: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionGroup",
          "description": "A single requisitionGroup",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "unique": true, "title": "code" },
              "name": { "type": "string", "required": true, "title": "name" },
              "description": { "type": "string", "required": false, "title": "description" },
              "supervisoryNode": { "type": "object", "$ref": "#/schemas/supervisoryNode", "required": true },
              "requisitionGroupProgramScheules": { "type": "array", "required": false, "title": "requisitionGroupProgramSchedules", "items": { "type": "object", "$ref": "#/schemas/requisitionGroupProgramSchedule" }, "uniqueItems": false },
              "memberFacilities": { "type": "array", "required": false, "title": "memberFacilities", "items": { "type": "object", "$ref": "#/schemas/facility" }, "uniqueItems": false }
          }
      }

  - requisitionGroupProgramSchedule: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "RequisitionGroupProgramSchedule",
          "description": "A single requisitionGroupProgramSchedule",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "program": { "type": "object", "$ref": "#/schemas/program", "required": true },
              "processingSchedule": { "type": "object", "$ref": "#/schemas/schedule", "required": true },
              "directDelivery": { "type": "boolean", "required": true, "title": "directDelivery" },
              "dropOffFacility": { "type": "object", "$ref": "#/schemas/facility", "required": false }
          }
      }

  - proofOfDelivery: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProofOfDelivery",
          "description": "A single proofOfDelivery",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "order": { "type": "object", "$ref": "#/schemas/order", "required": true },
              "profOfDeliveryLineItems": { "type": "array", "required": false, "title": "profOfDeliveryLineItems", "items": { "type": "object", "$ref": "#/schemas/proofOfDeliveryLine" }, "uniqueItems": false },
              "totalShippedPacks": { "type": "integer", "required": false, "title": "totalShippedPacks" },
              "totalReceivedPacks": { "type": "integer", "required": false, "title": "totalReceivedPacks" },
              "totalReturnedPacks": { "type": "integer", "required": false, "title": "totalReturnedPacks" },
              "deliveredBy": { "type": "string", "required": false, "title": "deliveredBy" },
              "receivedBy": { "type": "string", "required": false, "title": "receivedBy" },
              "receivedDate": { "type": "string", "required": false, "title": "receivedDate" }
          }
      }

  - proofOfDeliveryLine: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProofOfDeliveryLine",
          "description": "A single proofOfDeliveryLine",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "orderLine": { "type": "object", "$ref": "#/schemas/orderLine", "required": true },
              "proofOfDelivery": { "type": "object", "$ref": "#/schemas/proofOfDelivery", "required": true },
              "packToShip": { "type": "integer", "required": false, "title": "packToShip" },
              "quantityShipped": { "type": "integer", "required": false, "title": "quantityShipped" },
              "quantityReceived": { "type": "integer", "required": false, "title": "quantityReceived" },
              "quantityReturned": { "type": "integer", "required": false, "title": "quantityReturned" },
              "replacedProductCode": { "type": "string", "required": false, "title": "replacedProductCode" },
              "notes": { "type": "string", "required": false, "title": "notes" }
          }
      }

  - programDto: |
      {   "type": "object",
          "$schema": "http://json-schema.org/draft-03/schema",
          "title": "ProgramDto",
          "description": "A single programDto",
          "properties": {
              "id": { "type": "string", "required": true, "title": "id" },
              "code": { "type": "string", "required": true, "title": "code" },
              "name": { "type": "string", "required": false, "title": "name" }
          }
      }

traits:
    - secured:
          queryParameters:
              access_token:
                  displayName: access_token
                  description: OAuth2 access token
                  type: string
                  required: true
                  repeat: false
resourceTypes:
    - collection:
        get:
            is: [ secured ]
            responses:
                200:
                  description: Collection retrieved successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
                404:
                  description: Collection is empty.
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
        post:
            is: [ secured ]
            body:
                application/json:
                    schema: <<schema>>
            responses:
                201:
                  description: Item created successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
    - member:
        get:
            is: [ secured ]
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        post:
            is: [ secured ]
            body:
                application/json:
                    schema: <<schema>>
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        delete:
            is: [ secured ]
            responses:
                200:

/orders:
    displayName: Order
    /csv/{id}:
        uriParameters:
            id:
                displayName: Order id
                type: string
        get:
            is: [ secured ]
            description: Get CSV from Order.
            responses:
              200:
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:
                body:
                  application/json:
              400:
                headers:
                  X-Content-Type-Options:
                  X-XSS-Protection:

    /search:
        /findBySupplyingFacility:
            get:
                is: [ secured ]
                description: Find Orders with matched SupplyingFacility.
                queryParameters:
                    supplyingFacility:
                        displayName: supplyingFacility
                        description: SupplyingFacility ID
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

        /findBySupplyingFacilityAndRequestingFacility:
            get:
                is: [ secured ]
                description: Find Orders with matched SupplyingFacility and RequestingFacility.
                queryParameters:
                    supplyingFacility:
                        displayName: supplyingFacility
                        description: SupplyingFacility ID
                        type: string
                        required: true
                        repeat: false
                    requestingFacility:
                        displayName: requestingFacility
                        description: RequestingFacility ID
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

        /findBySupplyingFacilityAndProgram:
                    get:
                        is: [ secured ]
                        description: Find Orders with matched SupplyingFacility and Program.
                        queryParameters:
                            supplyingFacility:
                                displayName: supplyingFacility
                                description: SupplyingFacility ID
                                type: string
                                required: true
                                repeat: false
                            program:
                                displayName: program
                                description: Program ID
                                type: string
                                required: true
                                repeat: false
                        responses:
                            "200":
                                headers:
                                  X-Content-Type-Options:
                                  X-XSS-Protection:
                                body:
                                  application/json:
                            "404":
                                headers:
                                  X-Content-Type-Options:
                                  X-XSS-Protection:
                            "500":
                                headers:
                                  X-Content-Type-Options:
                                  X-XSS-Protection:

        /findBySupplyingFacilityAndRequestingFacilityAndProgram:
            get:
                is: [ secured ]
                description: Find Orders with matched SupplyingFacility, RequestingFacility and Program.
                queryParameters:
                    supplyingFacility:
                        displayName: supplyingFacility
                        description: SupplyingFacility ID
                        type: string
                        required: true
                        repeat: false
                    requestingFacility:
                        displayName: requestingFacility
                        description: RequestingFacility ID
                        type: string
                        required: true
                        repeat: false
                    program:
                        displayName: program
                        description: Program ID
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                          
    /{id}/print:
        uriParameters:
            id:
                displayName: orderId
                type: string
                required: true
                repeat: false
        get:
            is: [ secured ]
            description: Print all order lines from an order to a csv or pdf file.
            queryParameters:
                format:
                    displayName: format
                    type: string
                    required: true
                    repeat: false
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                      Content-Disposition:
                    body:
                      application/pdf:
                      text/csv:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/finalizeOrder:
            uriParameters:
                id:
                    displayName: orderId
                    type: string
                    required: true
                    repeat: false
            put:
                is: [ secured ]
                description: Finalize chosen order.
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "400":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

/periods:
    displayName: Period
    /{id}/difference:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        get:
            is: [ secured ]
            description: Display total days of period.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /search:
        /findByProcessingSchedule:
            get:
                is: [ secured ]
                description: Find Periods with matched ProcessingSchedule.
                queryParameters:
                    processingSchedule:
                        displayName: processingSchedule
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

        /findPreviousPeriods:
            get:
                is: [ secured ]
                description: Find previous Periods in given Schedule.
                queryParameters:
                    processingSchedule:
                        displayName: processingSchedule
                        type: string
                        required: true
                        repeat: false
                    startDate:
                        displayName: startDate
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
        /findFirst1ByOrderByEndDateDesc:
            get:
                is: [ secured ]
                description: Get last Period.
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

/productCategories:
    displayName: ProductCategories
    /search/findByCode:
        get:
            is: [ secured ]
            description: Find ProductCategories with matched Code.
            queryParameters:
                code:
                    displayName: code
                    description: productCategory code.
                    type: string
                    required: true
                    repeat: false
            responses:
               "200":
                   headers:
                     X-Content-Type-Options:
                     X-XSS-Protection:
                   body:
                     application/json:
               "404":
                   headers:
                     X-Content-Type-Options:
                     X-XSS-Protection:

/programProducts:
    displayName: Program Products
    /search:
        /findByProgram:
            get:
                is: [ secured ]
                description: Find ProgramProducts with matched Program.
                queryParameters:
                    program:
                        displayName: program
                        description: Program ID
                        type: string
                        required: true
                        repeat: false
                responses:
                   "200":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:
                       body:
                         application/json:
                   "404":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:
                   "500":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:
        /findByProgramAndFullSupply:
            get:
                is: [ secured ]
                description: Find ProgramProducts with matched Program.
                queryParameters:
                    program:
                        displayName: program
                        description: Program ID
                        type: string
                        required: true
                        repeat: false
                    fullSupply:
                        displayName: fullSupply
                        description: Full supply
                        type: boolean
                        required: true
                        repeat: false
                responses:
                   "200":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:
                       body:
                         application/json:
                   "404":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:
                   "500":
                       headers:
                         X-Content-Type-Options:
                         X-XSS-Protection:

/requisitions:
    displayName: Requisition
    /submitted:
        get:
            is: [ secured ]
            description: Get all requisitions with submitted status.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "404":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        delete:
            is: [ secured ]
            description: Delete chosen requisition.
            responses:
                "204":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/skip:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        put:
            is: [ secured ]
            description: Skip chosen requisition period.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/reject:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        put:
            is: [ secured ]
            description: Reject requisition which is waiting for approval.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
    /{id}/submit:
            put:
                is: [ secured ]
                description: Submit earlier initiated requisition.
                body:
                    application/json:
                        schema: requisition
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "400":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
    /{id}/authorize:
            uriParameters:
                id:
                    displayName: requisition Id
                    type: string
                    required: true
                    repeat: false
            put:
                is: [ secured ]
                description: Authorize submitted requisition.
                body:
                    application/json:
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "400":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

    /search:
        get:
            is: [ secured ]
            description: Find requisitions matching all of provided parameters.
            queryParameters:
                facility:
                    displayName: facility
                    type: string
                    required: false
                    repeat: false
                program:
                    displayName: program
                    type: string
                    required: false
                    repeat: false
                createdDateFrom:
                    displayName: createdDateFrom
                    type: string
                    required: false
                    repeat: false
                createdDateTo:
                    displayName: createdDateTo
                    type: string
                    required: false
                    repeat: false
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

    /{id}/approve:
        uriParameters:
            id:
                displayName: id
                type: string
                required: true
                repeat: false
        put:
            is: [ secured ]
            description: Approve specified by id requisition.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

    /requisitions-for-approval:
        get:
            is: [ secured ]
            description: Get requisitions to approve for right supervisor.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

    /{id}/comments:
        uriParameters:
            id:
                displayName: id
                description: requisition id
                type: string
                required: true
                repeat: false
        get:
            description: Get all comments for specified requisition.
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
        post:
            is: [ secured ]
            description: Add comment to the requisition.
            body:
                application/json:
                    schema: comment
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "500":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:

        /findByStatus:
            get:
                is: [ secured ]
                description: Find Requsitions with matched status.
                queryParameters:
                    status:
                        displayName: status
                        description: status
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

        /findByProcessingPeriodAndFacilityAndProgram:
            get:
                is: [ secured ]
                description: Find Requsition with matched Processing Period, Facility and Program.
                queryParameters:
                    period:
                        displayName: processingPeriod
                        description: processingPeriod
                        type: string
                        required: true
                        repeat: false
                    facility:
                        displayName: facility
                        description: facility
                        type: string
                        required: true
                        repeat: false
                    program:
                        displayName: program
                        description: program
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
/requisitionTemplates:
    displayName: Requisition Template
    /search:
        /findByProgram:
            get:
                is: [ secured ]
                description: Find Requsition Template with matched and Program.
                queryParameters:
                    program:
                        displayName: program
                        description: program
                        type: string
                        required: true
                        repeat: false
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    "404":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                    "500":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
/schedules:
    displayName: Schedule
    /{id}/difference:
        uriParameters:
            id:
                displayName: id
                description: ScheduleId
                type: string
                required: true
                repeat: false
        get:
            is: [ secured ]
            description: Display total days and months of schedule periods.
            responses:
              200:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/json:
              400:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
              404:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
              500:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:

/supplyLines:
    displayName: Supply Lines
    /search/findByProgramAndSupervisoryNode:
        get:
                    is: [ secured ]
                    description: Find SupplyLines with matched Program and SupervisoryNode.
                    queryParameters:
                        program:
                            displayName: program
                            type: string
                            required: true
                            repeat: false
                        supervisoryNode:
                            displayName: supervisoryNode
                            type: string
                            required: true
                            repeat: false
                    responses:
                        "200":
                            headers:
                              X-Content-Type-Options:
                              X-XSS-Protection:
                            body:
                              application/json:
                        "400":
                            headers:
                              X-Content-Type-Options:
                              X-XSS-Protection:
                        "500":
                            headers:
                              X-Content-Type-Options:
                              X-XSS-Protection:

/users:
    displayName: User
    /search:
        /findByFirstName:
            get:
                is: [ secured ]
                description: Search Users with matched FirstName
                queryParameters:
                    firstName:
                        displayName: firstName
                        description: FirstName
                        type: string
                        required: true
                        repeat: false
                        example: firstName
                responses:
                    200:
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:

        /findByLastName:
            get:
                is: [ secured ]
                description: Search Users with matched LastName.
                queryParameters:
                    lastName:
                        displayName: lastName
                        description: LastName
                        type: string
                        required: true
                        repeat: false
                        example: lastName
                responses:
                    200:
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:

        /findByVerified:
            get:
                is: [ secured ]
                description: Search Users with matched Verified.
                queryParameters:
                    verified:
                        displayName: verified
                        description: Verified
                        type: boolean
                        required: true
                        repeat: false
                        example: "true"
                responses:
                    200:
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:

        /findByActive:
            get:
                is: [ secured ]
                description: Search Users with matched Active.
                queryParameters:
                    active:
                        displayName: active
                        description: Active
                        type: boolean
                        required: true
                        repeat: false
                        example: "true"
                responses:
                    200:
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:

        /findByHomeFacility:
            get:
                is: [ secured ]
                description: Search Users with matched HomeFacility.
                queryParameters:
                    homeFacility:
                        displayName: homeFacility
                        description: HomeFacilityId (href)
                        type: string
                        required: true
                        repeat: false
                responses:
                    200:
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:
                    500:
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:

        /findByUsername:
            get:
                is: [ secured ]
                description: Search Users with matched Username.
                queryParameters:
                    username:
                        displayName: username
                        description: Username
                        type: string
                        required: true
                        repeat: false
                        example: username
                responses:
                    200:
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:

        /findByFirstNameAndLastName:
            get:
                is: [ secured ]
                description: Search Users with matched FirstName and LastName.
                queryParameters:
                    firstName:
                        displayName: firstName
                        description: FirstName
                        type: string
                        required: true
                        repeat: false
                        example: firstName
                    lastName:
                        displayName: lastName
                        description: LastName
                        type: string
                        required: true
                        repeat: false
                        example: lastName
                responses:
                    "200":
                        headers:
                          X-Content-Type-Options:
                          X-XSS-Protection:
                        body:
                          application/json:

/facilities:
    displayName: Facility
    /{id}/orders:
        uriParameters:
            id:
                displayName: homeFacilityId
                type: string
                required: true
                repeat: false
        get:
            is: [ secured ]
            description: Returns a list of filtered orders supplied by a home facility.
            queryParameters:
                programId:
                    displayName: programId
                    type: string
                    required: false
                    repeat: false
                requestingFacilityId:
                    displayName: requestingFacilityId
                    type: string
                    required: false
                    repeat: false
                periodId:
                    displayName: periodId
                    type: string
                    required: false
                    repeat: false
                scheduleId:
                    displayName: scheduleId
                    type: string
                    required: false
                    repeat: false
                startDate:
                    displayName: startDate
                    type: string
                    required: false
                    repeat: false
                endDate:
                    displayName: endDate
                    type: string
                    required: false
                    repeat: false
            responses:
              200:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                    application/json:
              400:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
              404:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
              500:
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:

/programs:
    displayName: Program
    /update:
        put:
            is: [ secured ]
            description: Update program code and name.
            body:
                application/json:
                    schema: programDto
            responses:
                "200":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                "400":
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
